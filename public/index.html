<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="static/Icon.svg">

    <style>
        ._dialog,.wrapper{flex-direction:column}.open-block,body,html{color:#fff;font-family:Ranga;letter-spacing:.15em}.button-join,.label-function,.open-block__text{text-align:center}._dialog,.tutorial-block{display:flex;position:fixed}*{transition:.5s}*,::after,::before{padding:0;margin:0;border:0;box-sizing:border-box}a{text-decoration:none}li,ol,ul{list-style:none}img{vertical-align:top}h1,h2,h3,h4,h5,h6{font-weight:inherit;font-size:inherit}.open-block,.tutorial-block__text,body,html{font-weight:400;line-height:100%}body,html{height:100%;font-size:35px}dialog:focus{outline:0}::-webkit-scrollbar{height:4px;width:4px}::-webkit-scrollbar-track{border-radius:0;background-color:#000}::-webkit-scrollbar-track:hover{background-color:#000}::-webkit-scrollbar-track:active{background-color:#000}::-webkit-scrollbar-thumb{border-radius:0;background-color:#fff}::-webkit-scrollbar-thumb:hover{background-color:#fff}::-webkit-scrollbar-thumb:active{background-color:#fff}.wrapper{min-height:100%;overflow:hidden;display:flex;background-color:#000}._container{max-width:1280px;margin:0 auto;padding:0 15px;box-sizing:content-box}._dialog{transition:none;margin:auto;background:#000;z-index:5;pointer-events:none;opacity:0;flex-wrap:nowrap;animation:2s forwards myAnim1}._dialog[open]{opacity:1;pointer-events:inherit}._dialog::backdrop{position:fixed;inset:0;background:#000;animation:2s forwards myAnim}.apply-button::before,.return-button::before{top:16px;content:"";background:url("../static/Arrow-Apply.svg") no-repeat;display:block;width:38px;height:35px}@keyframes myAnim{0%{animation-timing-function:ease-in;opacity:0;transform:translateY(-250px)}38%{animation-timing-function:ease-out;opacity:1;transform:translateY(0)}55%{animation-timing-function:ease-in;transform:translateY(-65px)}100%,72%,90%{animation-timing-function:ease-out;transform:translateY(0)}81%{animation-timing-function:ease-in;transform:translateY(-28px)}95%{animation-timing-function:ease-in;transform:translateY(-8px)}}@keyframes myAnim1{0%{animation-timing-function:ease-in;opacity:0;transform:translateY(250px)}38%{animation-timing-function:ease-out;opacity:1;transform:translateY(0)}55%{animation-timing-function:ease-in;transform:translateY(65px)}100%,72%,90%{animation-timing-function:ease-out;transform:translateY(0)}81%{animation-timing-function:ease-in;transform:translateY(28px)}95%{animation-timing-function:ease-in;transform:translateY(8px)}}.open-block{overflow:hidden;box-shadow:7px -7px 0 0 #fff,18px 5px 0 0 #000,25px 12px 0 0 #fff;padding:30px 44px;font-size:25px;display:flex;flex-direction:column;align-items:center;gap:30px;max-width:470px}.open-block__logo{background:url("../static/Icon-Open.svg") no-repeat;height:161px;width:130px}.button-join{display:flex;align-items:center;justify-content:center;background-color:#000;transform:skewX(-15deg);padding:0 50px;min-height:50px;box-shadow:4px -4px 0 0 #fff,10px 4px 0 0 #000,14px 8px 0 0 #fff;cursor:pointer}.button-join__name,.reflector-change__name{user-select:none;text-wrap:nowrap;margin:5px 0 0;transform:skewX(15deg);cursor:pointer;font-size:40px;line-height:100%;text-align:center}.button-join:hover,.reflector-change:hover{filter:invert(1);box-shadow:none}.tutorial-block-wrap{width:100%;height:100%;display:flex;align-items:center;justify-content:center;animation:none}.left-block,.tutorial-block{flex-direction:column;box-shadow:7px -7px 0 0 #fff,18px 5px 0 0 #000,25px 12px 0 0 #fff}.tutorial-block-wrap::backdrop{animation:none}.tutorial-block{padding:15px 12px 2px 40px;z-index:4;margin:auto 50px auto auto}.left-block,.main-block{position:relative;display:flex}.tutorial-block__text{font-size:25px;letter-spacing:.13em;color:#fff;overflow:auto;padding:0 20px 0 0;max-height:500px}.position-change__selected,.rotor-change__selected{font-size:50px;color:#fff;letter-spacing:normal;text-align:center}.page{flex:1 1 auto;margin:0}.modal{overflow-y:hidden;filter:blur(30px)}.main-block{padding:70px 0 50px;flex-direction:row;justify-content:space-between;flex-wrap:wrap;gap:15px}.left-block{background-color:#000;padding:35px 15px 35px 10px;width:max-content;z-index:1;margin:0 33px 0 0}.function{display:flex;flex-direction:column;gap:35px}.message-block,.position-block,.positions-change,.reflectors-change,.rotor-block,.rotors-change{display:flex;flex-direction:row;justify-content:space-between;align-items:center;width:100%}.rotor-change__button-left,.rotor-change__button-right{background:url("../static/Arrow-Horiz.svg") no-repeat;width:40px;height:41px}.positions-change__label-function,.rotors-change__label-function{margin:0 65px 0 0}.rotor-change{display:flex;flex-direction:row;align-items:center;justify-content:center;gap:10px;margin:0 10px}.rotor-change__button-left{transform:rotate(180deg);cursor:pointer}.rotor-change__selected{min-width:38px;cursor:default}.rotor-change__button-right{cursor:pointer}.position-change{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:13px}.position-change:nth-child(3),.reflectors-change__label-function{margin:0 45px 0 0}.message-block__label-function,.reflector-block{margin:0 35px 0 0}.position-change__button-up{background:url("../static/Arrow-Vert.svg") no-repeat;height:44px;width:55px;cursor:pointer}.apply-button,.position-change__selected{border-radius:100%;width:66px;height:66px}.position-change__selected{display:flex;align-items:center;justify-content:center;background-color:#000;box-shadow:5px -3px 0 0 #fff,-5px 3px 0 0 #fff;cursor:default}.message-block__message-textarea,.message-text__text,.tutorial-button::before{color:#fff;font-weight:400;font-family:Ranga;line-height:100%;letter-spacing:.15em}.position-change__button-down{background:url("../static/Arrow-Vert.svg") no-repeat;height:44px;width:55px;transform:rotate(180deg);cursor:pointer}.reflector-block{display:flex;flex-direction:row;justify-content:center;align-items:center;gap:30px;width:100%}.reflector-change{display:flex;align-items:center;justify-content:center;text-align:center;background-color:#000;transform:skewX(-15deg);padding:0 40px;min-height:60px;box-shadow:4px -3px 0 0 #fff,10px 4px 0 0 #000,14px 8px 0 0 #fff;cursor:pointer}.reflector-change__selected{filter:invert(1);box-shadow:4px 4px 0 0 #fff,8px 8px 0 0 #000;cursor:default}.reflector-change__selected .reflector-change__name{cursor:default}.message-block__message-textarea{width:100%;min-height:100px;background-color:#000;transform:skewX(-15deg);box-shadow:4px -3px 0 0 #fff,10px 4px 0 0 #000,14px 8px 0 0 #fff;margin:0 45px 0 0;height:100%;font-size:25px;resize:none;outline:0;padding:10px 4px 10px 10px}.apply-button,.return-button{box-shadow:5px -3px 0 0 #fff,-5px 3px 0 0 #fff;bottom:-33px;position:absolute}.apply-button{background-color:#000;right:-33px;z-index:10;cursor:pointer}.return-button,.tutorial-button{cursor:pointer;border-radius:100%;background-color:#000;width:66px;height:66px;right:-33px;z-index:2}.apply-button::before{position:absolute;left:17px}.left-block__tutorial-button,.right-block__return-button{display:none}.return-button::before{position:absolute;left:12px;transform:rotate(180deg)}.right-block{position:relative;display:flex;flex-direction:column;flex-wrap:wrap;gap:45px;background-color:#000;box-shadow:7px -7px 0 0 #fff,18px 5px 0 0 #000,25px 12px 0 0 #fff;margin:0 33px 0 0;padding:15px 13px 15px 10px;max-height:556px;flex:1}.tutorial-button{box-shadow:5px -3px 0 0 #fff,-5px 3px 0 0 #fff;position:absolute;top:-33px}.tutorial-button::before{display:block;position:absolute;top:8px;left:19px;width:38px;height:35px;content:"?";font-size:55px;text-align:center}.messages{display:flex;flex-direction:column;gap:20px;padding:0 0 4px;overflow-y:auto;overflow-x:hidden;min-height:350px}.message-content{display:flex;flex-direction:row;align-items:center;justify-content:space-between}.message-content__image{margin:0 20px 0 0;background:url("../static/Icon-Image.svg") no-repeat;height:51px;width:40px}.message-text{background-color:#000;transform:skewX(-15deg);padding:10px;box-shadow:4px 4px 0 0 #fff;flex:1;margin:0 30px 0 0}.message-text__text{text-align:end;word-break:break-all;font-size:25px}@keyframes Arrow-Left{0%,100%{transform:scale(1) rotate(180deg)}50%{transform:scale(1.2) rotate(180deg)}}.rotor-change__button-left:active{animation:.1s ease-in-out Arrow-Left}@keyframes Arrow-Right{0%,100%{transform:scale(1)}50%{transform:scale(1.2)}}.rotor-change__button-right:active{animation:.1s ease-in-out Arrow-Right}@keyframes Arrow-Up{0%,100%{transform:scale(1)}50%{transform:scale(1.2)}}.position-change__button-up:active{animation:.1s ease-in-out Arrow-Up}@keyframes Arrow-Down{0%,100%{transform:scale(1) rotate(180deg)}50%{transform:scale(1.2) rotate(180deg)}}.position-change__button-down:active{animation:.1s ease-in-out Arrow-Down}.reflector-change__selected:hover{filter:invert(1);box-shadow:5px 5px 0 0 #fff,9px 9px 0 0 #000;cursor:default}.apply-button:hover,.return-button:hover,.tutorial-button:hover{transition:.3s;filter:invert(1)}@media (max-width:1200px){.right-block{display:none}.left-block{margin:0 33px 0 0}.main-block{justify-content:center}.left-block__tutorial-button,.right-block__return-button{display:block}}@media (max-width:800px){.open-block,.tutorial-block{box-shadow:5px -5px 0 0 #fff,13px 3px 0 0 #000,18px 8px 0 0 #fff}body,html{font-size:30px;color:#fff;font-weight:400;font-family:Ranga;line-height:100%;letter-spacing:.15em}.open-block{font-size:20px;max-width:350px;padding:20px 25px}.open-block__logo{transform:scale(.8);margin:0 0 -10px}.button-join__name{font-size:35px}.tutorial-block{padding:15px 12px 2px 30px}.tutorial-block__text{font-size:20px;padding:0 17px 0 0}.left-block{padding:30px 30px 30px 10px}.function{gap:30px}.rotors-change__label-function{margin:0 45px 0 0}.rotor-change{gap:15px;margin:0}.rotor-change__button-left{transform:scale(.7) rotate(180deg);margin:0 -3px 0 -4px}.rotor-change__button-right{transform:scale(.7);margin:0 -4px 0 -3px}.rotor-change__selected{font-size:35px;min-width:27px}.position-change:nth-child(3),.positions-change__label-function,.reflectors-change__label-function{margin:0 35px 0 0}.position-change__button-up{transform:scale(.7)}.position-change__selected{font-size:35px;width:55px;height:55px}.position-change__button-down{transform:scale(.7) rotate(180deg)}.position-change{gap:8px}.reflector-block{gap:20px;margin:0 10px 0 0;justify-content:space-evenly}.reflector-change{padding:0 20px;min-height:40px}.reflector-change__name{font-size:30px}.message-block__label-function{margin:0 25px 0 0}.message-block__message-textarea{margin:0 25px 0 0;font-size:20px;padding:5px 4px 5px 5px;letter-spacing:.2em}.apply-button,.return-button,.tutorial-button{transform:scale(.8)}.message-text__text{font-size:20px}@keyframes Arrow-Left{0%,100%{transform:scale(.7) rotate(180deg)}50%{transform:scale(.8) rotate(180deg)}}@keyframes Arrow-Right{0%,100%{transform:scale(.7)}50%{transform:scale(.8)}}@keyframes Arrow-Up{0%,100%{transform:scale(.7)}50%{transform:scale(.8)}}@keyframes Arrow-Down{0%,100%{transform:scale(.7) rotate(180deg)}50%{transform:scale(.8) rotate(180deg)}}}@media (max-width:630px){.left-block,.right-block{box-shadow:5px -5px 0 0 #fff,13px 4px 0 0 #000,18px 9px 0 0 #fff}.message-block,.positions-change,.reflectors-change,.rotors-change{flex-wrap:wrap;justify-content:center;gap:10px}.message-block{padding:0 0 30px 15px}.message-block__message-textarea{min-height:120px;transform:skewX(-10deg)}.left-block{padding:25px 15px;margin:0 20px 0 0}.right-block{padding:10px 9px 10px 10px}.function,.messages{gap:15px}.message-text{box-shadow:3px 3px 0 0 #fff;margin:0 15px 0 0}.message-block__label-function,.position-change:nth-child(3),.positions-change__label-function,.reflectors-change__label-function,.rotors-change__label-function{margin:0}.rotor-change{gap:5px}.main-block{padding:45px 0 40px;height:100%}}@media (max-width:430px){.message-content__image{transform:scale(.8);margin:0 10px 0 0}body,html{font-size:25px;color:#fff;font-weight:400;font-family:Ranga;line-height:100%;letter-spacing:.15em}.rotor-change__selected{font-size:35px}.position-change__selected{font-size:35px;width:44px;height:44px}.reflector-change__name{font-size:25px}.messages{gap:10px}}@media (max-width:400px){.left-block,.right-block{box-shadow:4px -4px 0 0 #fff,12px 5px 0 0 #000,16px 9px 0 0 #fff}.left-block{padding:15px 10px 20px 15px}.right-block{margin:0 18px 0 0}.apply-button,.return-button,.tutorial-button{transform:scale(.6);right:-30px;box-shadow:none;border:4px solid #fff}.apply-button,.return-button{bottom:-38px}.apply-button::before{top:13px;left:13px}.return-button::before{top:12px;left:8px}.tutorial-button{top:-28px}.tutorial-button::before{top:4px;left:15px}.rotor-change{gap:0;justify-content:space-between}.message-text__text{font-size:15px}._container{padding:0}.open-block{font-size:18px;max-width:250px;padding:20px 25px;box-shadow:4px -4px 0 0 #fff,11px 2px 0 0 #000,15px 6px 0 0 #fff}.open-block__logo{transform:scale(.7);margin:-25px 0}.button-join{padding:0 30px;min-height:30px;box-shadow:3px -3px 0 0 #fff,9px 3px 0 0 #000,12px 6px 0 0 #fff}.button-join__name{font-size:30px}.tutorial-block{padding:15px 12px 2px 20px;box-shadow:4px -4px 0 0 #fff,11px 2px 0 0 #000,15px 6px 0 0 #fff;margin-right:20px}.tutorial-block__text{font-size:17px;padding:0 17px 0 0}.tutorial-block__apply-button{right:-32px}}

    </style>
    <link href="https://fonts.googleapis.com/css?family=Ranga:regular,700" rel="stylesheet" />
    <title>Enigmus</title>
</head>
<body class="modal">
    <div class="wrapper">
        <main class="page">
            <div class="page__container _container">
                
                <dialog class="open-block _dialog">


                        <div class="open-block__logo"></div>
                        <div class="open-block__text"><b>Enigmus</b> is a unique platform where users can communicate anonymously using encryption based on the Enigma machine. The messages are only visible if the last cipher you entered matches another one, adding an extra layer of anonymity for the sake of privacy. </div>
                        <div role="button" class="open-block__button-join button-join">
                            <div class="button-join__name">Join</div>
                        </div>
                </dialog>
                <div class="page__main-block main-block">
                    <div class="main-block__left-block left-block">
                        <button class="left-block__tutorial-button tutorial-button"></button>
                        <div class="left-block__function function">

                            <div class="function__rotors-change rotors-change">
                                <div class="rotors-change__label-function label-function">Rotors:</div>
                                <div class="rotors-change__rotor-block rotor-block">
                                    <div class="rotor-block__rotor-change rotor-change" id="Rotor1">
                                        <button class="rotor-change__button-left"></button>
                                        <div class="rotor-change__selected" id="Rotor1_label">I</div>
                                        <button class="rotor-change__button-right"></button>
                                    </div>
                                    <div class="rotor-block__rotor-change rotor-change" id="Rotor2">
                                        <button class="rotor-change__button-left"></button>
                                        <div class="rotor-change__selected" id="Rotor2_label">I</div>
                                        <button class="rotor-change__button-right"></button>
                                    </div>
                                    <div class="rotor-block__rotor-change rotor-change" id="Rotor3">
                                        <button class="rotor-change__button-left"></button>
                                        <div class="rotor-change__selected" id="Rotor3_label">I</div>
                                        <button class="rotor-change__button-right"></button>
                                    </div>
                                </div>
                            </div>

                            <div class="function__positions-change positions-change">
                                <div class="positions-change__label-function label-function">Positions:</div>
                                <div class="positions-change__position-block position-block">
                                    <div class="position-block__position-change position-change" id="Position1">
                                        <button class="position-change__button-up"></button>
                                        <div class="position-change__selected" id="Position1_label">A</div>
                                        <button class="position-change__button-down"></button>
                                    </div>
                                    <div class="position-block__position-change position-change" id="Position2">
                                        <button class="position-change__button-up"></button>
                                        <div class="position-change__selected" id="Position2_label">A</div>
                                        <button class="position-change__button-down"></button>
                                    </div>
                                    <div class="position-block__position-change position-change" id="Position3">
                                        <button class="position-change__button-up"></button>
                                        <div class="position-change__selected" id="Position3_label">A</div>
                                        <button class="position-change__button-down"></button>
                                    </div>
                                </div>
                            </div>
                            <div class="function__reflectors-change reflectors-change">
                                <div class="reflectors-change__label-function label-function">Reflectors:</div>
                                <div class="reflectors-change__reflector-block reflector-block">


                                    <div role="button" class="reflector-block__reflector-change reflector-change reflector-change__selected" id="UKWB">
                                        <div class="reflector-change__name">UKW B</div>
                                    </div>
                                    <div role="button" class="reflector-block__reflector-change reflector-change" id="UKWC">
                                        <div class="reflector-change__name">UKW C</div>
                                    </div>
                                </div>

                            </div>
                            <div class="function__message-block message-block">
                                <div class="message-block__label-function label-function">Message:</div>
                                <textarea class="message-block__message-textarea" id="MesInput"  maxlength="200"></textarea>
                            </div>
                        </div>
                        <button class="left-block__apply-button apply-button" id="send-message"></button>
                    </div>
                    <div class="main-block__right-block right-block">
                        <button class="right-block__tutorial-button tutorial-button"></button>
                        <div class="right-block__messages messages">


                        </div>
                        <button class="right-block__return-button return-button"></button>

                    </div>
                </div>
                <dialog class="tutorial-block-wrap _dialog">
                        <div class="tutorial-block-wrap__tutorial-block tutorial-block">
                        <div class="tutorial-block__text">
                            <b>When set to the same initial positions and configurations, any cipher can decrypt a message encrypted with those same settings. </b><br><br>
                            
                            <b>Settings:</b>
                            <ol>
                            <li>1. Rotors - Select the rotors that shuffle the letters of the alphabet.</li>
                            <li>2. Position - The initial positions of the rotors determine the starting point of the encryption.</li>
                            <li>3. Reflectors - The reflector sends the signal back through the rotors for additional encryption.</li>
                            </ol><br>
                            <b>Chat:</b>
                            <ol>
                                <li>- The chat shows messages from different users for <b>12 hours</b>.</li>
                                    <li>- When you change the encryption settings, messages will be re-encrypted, which will allow you to guess the settings of other messages for decryption. </li>
                            </ol><br>
                            <b>The message field and the send button:</b>
                            <ol>
                                <li>- The "Message" field allows you to enter text for encryption.</li>
                                    <li>- The "Send" button is used both to send a message and to change the encryption if there is no text in the "message" field.</li>
                            </ol><br>
                            <b>Additional notes:</b>
                            <ol>
                                <li>- You can encrypt messages in <b> English only</b>.</li>
                                    <li>- Numbers and punctuation marks are not encrypted.</li>
                                        <li>- The maximum message length is <b>350 characters</b>.</li>
                            </ol><br>
                            Enjoy safe and mysterious communication with <b>Enigmus</b> Chat!</div>
                        <div class="tutorial-block__apply-button apply-button"></div>
                    </div>
                </dialog>
            </div>
        </main>
        <footer class="footer">

        </footer>
    </div>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>


function getCookie(e){var t=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return t?decodeURIComponent(t[1]):void 0}async function fillMessages(e){let t=document.querySelector(".messages");t.innerHTML="";let o="";for(let s in e)o=1==e[s][1]?'<div class="messages__message-content message-content"><div class="message-content__message-text message-text"><div class="message-text__text">'+e[s][0]+"</div></div></div>":'<div class="messages__message-content message-content"><div class="message-content__image"></div><div class="message-content__message-text message-text"><div class="message-text__text">'+e[s][0]+"</div></div></div>",t.innerHTML+=o}async function getId(){const e=await fetch("/id",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}});if(!0===e.ok){const t=await e.json();console.log(t),document.cookie=encodeURIComponent("id")+"="+encodeURIComponent(t)}else console.log("Mistake :(")}async function sendMessage(e,t){const o=await fetch("/ms",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({message:e,settings:t,id:getCookie("id")})});if(!0===o.ok){fillMessages(await o.json())}else console.log("You won't hack me :)")}window.addEventListener("load",()=>{sendMessage("","")}),alphabet="ABCDEFGHIJKLMNOPQRSTUVWXYZ",rotors=["I","II","III","IV","V"],rotork=5,$(document).ready(function(){function e(){return $("body").toggleClass("modal"),!1}null!=getCookie("id")?(document.querySelector(".open-block").style.display="none",$("body").toggleClass("modal")):(document.querySelector(".open-block").showModal(),$(".button-join").click(function(e){document.querySelector(".open-block").close(),document.querySelector(".tutorial-block-wrap").showModal()})),$(".tutorial-button").click(function(e){$("body").toggleClass("modal"),document.querySelector(".tutorial-block-wrap").showModal()}),$(".tutorial-block__apply-button").click(function(t){document.querySelector(".tutorial-block-wrap").close(),setTimeout(e,60)});let t=0,o=0,s=0;$(".rotor-change__button-left").click(function(e){let n=$(this).parent();switch(n.attr("id")){case"Rotor1":t--,t-=rotork*Math.floor(t/rotork),$(".rotor-change__selected",n).text(rotors[t]);break;case"Rotor2":o--,o-=rotork*Math.floor(o/rotork),$(".rotor-change__selected",n).text(rotors[o]);break;case"Rotor3":s--,s-=rotork*Math.floor(s/rotork),$(".rotor-change__selected",n).text(rotors[s]);break;default:console.log("You won't hack me :)")}}),$(".rotor-change__button-right").click(function(e){let n=$(this).parent();switch(n.attr("id")){case"Rotor1":t++,t-=rotork*Math.floor(t/rotork),$(".rotor-change__selected",n).text(rotors[t]);break;case"Rotor2":o++,o-=rotork*Math.floor(o/rotork),$(".rotor-change__selected",n).text(rotors[o]);break;case"Rotor3":s++,s-=rotork*Math.floor(s/rotork),$(".rotor-change__selected",n).text(rotors[s]);break;default:console.log("You won't hack me :)")}});let n=0,c=0,l=0;$(".position-change__button-down").click(function(e){let t=$(this).parent();switch(t.attr("id")){case"Position1":n++,n-=26*Math.floor(n/26),$(".position-change__selected",t).text(alphabet[n]);break;case"Position2":c++,c-=26*Math.floor(c/26),$(".position-change__selected",t).text(alphabet[c]);break;case"Position3":l++,l-=26*Math.floor(l/26),$(".position-change__selected",t).text(alphabet[l]);break;default:console.log("You won't hack me :)")}}),$(".position-change__button-up").click(function(e){let t=$(this).parent();switch(t.attr("id")){case"Position1":n--,n-=26*Math.floor(n/26),$(".position-change__selected",t).text(alphabet[n]);break;case"Position2":c--,c-=26*Math.floor(c/26),$(".position-change__selected",t).text(alphabet[c]);break;case"Position3":l--,l-=26*Math.floor(l/26),$(".position-change__selected",t).text(alphabet[l]);break;default:console.log("You won't hack me :)")}});let a=0,i=$("#UKWB"),r=$("#UKWC");$(".reflector-change").click(function(e){$(this).attr("id")!=i.attr("id")||$(this).hasClass("reflector-change__selected")||($(this).toggleClass("reflector-change__selected"),r.toggleClass("reflector-change__selected"),a=0),$(this).attr("id")!=r.attr("id")||$(this).hasClass("reflector-change__selected")||($(this).toggleClass("reflector-change__selected"),i.toggleClass("reflector-change__selected"),a=1)}),$(".left-block__apply-button").click(function(e){$("body").width()<=1200?($(".left-block").css("display","none"),$(".right-block").css("display","flex")):($(".left-block").css("display","flex"),$(".right-block").css("display","flex"))}),$(".right-block__return-button").click(function(e){$(".left-block").css("display","flex"),$(".right-block").css("display","none")}),$(window).on("resize",function(){$(window).width()>1200&&($(".left-block").css("display","flex"),$(".right-block").css("display","flex")),$(window).width()<=1200&&($(".left-block").css("display","flex"),$(".right-block").css("display","none"))})}),null==getCookie("id")&&getId(),document.getElementById("send-message").addEventListener("click",async()=>{message=document.getElementById("MesInput").value,settings=document.getElementById("Rotor1_label").textContent+"~"+document.getElementById("Rotor2_label").textContent+"~"+document.getElementById("Rotor3_label").textContent+"~",settings+=document.getElementById("Position1_label").textContent+"~"+document.getElementById("Position2_label").textContent+"~"+document.getElementById("Position3_label").textContent+"~",settings+=document.querySelector(".reflector-change__selected").getAttribute("id"),sendMessage(message,settings),document.getElementById("MesInput").value=""});

<!--ДОБАВИТЬ ПРОКРУТКУ-->
    </script>
</body>
</html>